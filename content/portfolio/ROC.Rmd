---
image: "img/portfolio/gravity-paper.jpg"
showonlyimage: false
date: "2016-11-05T19:44:32+05:30"
title: "ROC Curves"
description: "A short description perhaps?"
type: "portfolio"
draft: false
---

In this post we'll explore what [receiver operating characteristic (ROC)](https://en.wikipedia.org/wiki/Receiver_operating_characteristic) curves are, how they're constructed, and what they're useful for, along with some important limitations.

## The muffin machine

Imagine we've built a machine that bakes two kinds of muffins, blueberry and raspberry. The only thing we need to do is feed the machine raw ingredients, and within thirty minutes, fresh muffins pop out the other end.

Suppose that we buy our berries in bulk and that they come mixed together. Because we're lazy (and hungry), we want the machine to seperate the rapsberries from the blueberries for us. This is an example of a [classification problem](https://en.wikipedia.org/wiki/Statistical_classification).


<img src="/img/roc/muffin-machine.png" style = "max-width:400px;width:100%;"/>


After developing a classification algorithm that the machine will use to sort the mixed berries, we'd like to estimate how well it's going to perform. An ROC curve is one tool that can help us do this. Here's an example curve which we'll unpack below.

<figure class="roc-example" style = "max-width:300px;width:100%"></figure> 

< image (perhaps the d3 one) of ROC curve for the muffin machine >

There's a lot of information behind this plot, and it's important to understand what the ROC curve can and can't do. 

## Confusion matrix

To understand how the ROC curve is constructed, it helps knowing about confusion matrices. Because we only have two types of berries, we can conceptualise our classifier as one that only recognises things as "raspberry" and "not raspberry" (this is *binary* classification). In this way, we'll label raspberries "positive" and blueberries "negative". 

To keep things simple, we'll represent berries with simple circles:

< image of blueberry and raspberry symbols >

Given this definition, there are four possible ways our classifier can label berries:

< image of blueberries and raspberries with labels (2 x 2 grid) >

We'd call a raspberry that's correctly labelled a *true positive*, and a correctly labelled blueberry a *true negative*. A blueberry incorrectly labelled "raspberry" is a *false positive*, and a raspberry incorrectly "not raspberry" would be a *false negative*.

A confusion matrix is essentially a way to visualise the accuracy of a set of labels. 

### Points in the ROC space

- interactive 2 x 2 table where you can drag berries between groups? We can plot the resulting point on the ROC space.


### Discrimination threshold

< figure that shows how our classifier places berries on a continuous scale >

- mention that a threshold is a naive way of doing things, but don't go into detail

## Drawing the curve

- ROC curve is just the performance of the classifier across all thresholds
- good vs bad algorithm

## Area under the curve

### Discrimination performance

- introduce slider! Watch ROC curve change.
- emphasise how only *ordering* is important.

### Discrimination vs. calibration

- show extreme examples with all berries bunched up at one end of the scale.
- consider animation where berries jiggle arround, but don't swap places.
- Frank Harrel quote

## Optimal decision theory

- Mostly provide links to resources


<script src="https://d3js.org/d3.v4.min.js"></script>
<script src = "/js/roc2.js"></script>
